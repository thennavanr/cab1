
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">
        var directionDisplay;
        var map;
  
        function initialize() {
        directionsDisplay = new google.maps.DirectionsRenderer();
        var melbourne = new google.maps.LatLng(-37.813187, 144.96298);
        var myOptions = {
        zoom:12,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        center: melbourne
        }
    
        map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
        directionsDisplay.setMap(map);
        }


        var directionsService = new google.maps.DirectionsService();
        
        $(function () {
        $('#calcRoute').click(function () {

        var distanceInput = document.getElementById("distance");

        var start = document.getElementById("from_add").value;
        var end = document.getElementById("to_add").value;
        var request = {
        origin:start,
        destination:end,
        travelMode: google.maps.DirectionsTravelMode.DRIVING
        };
        directionsService.route(request, function(response, status) {
        if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
        distanceInput.value = response.routes[0].legs[0].distance.value / 1609.344;

        }
        });
        });
        }); 
        window.onload = function(){initialize();};
        
    </script>
     
    <style type="text/css">
      #map_canvas {
        height: 500px;
        width:500px;
      }
    </style>
</head>
<body>
    

<section id="contact-info">
    <div class="center">                
  <h2>Want to Book a Cab?</h2>
  <p class="lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit</p>
</div>

<!--<div class="gmap-area" style= "background-image: url(<%=  asset_path "map.jpg" %> );" > -->
        <div class="container">
            <div class="row contact-wrap"> 
              <%= form_for @reservation, :url => reservations_path, :html => {:id => 'main-contact-form' , :class => 'reservation-form' , :name => 'reservation-form' , :method => 'post' } do |f| %>
                     <div class="col-sm-5 col-sm-offset-1">
                        <div class="form-group">
                            <%= f.label :Name %>
                            <%= f.text_field :name, :class => 'form-control' , :required => 'required', :placeholder => 'Your Name' %>
                        </div>

                        <div class="form-group">
                            <%= f.label :Email  %>
                            <%= f.email_field 'email',  :class => 'form-control' , :required => 'required' , :placeholder => 'Your Email Adddress' %>
                        </div>

                        <div class="form-group">
                            <%= f.label :Phone %>
                            <%= f.telephone_field :phone, :pattern =>'^(?:\(\d{3}\)|\d{3})[- ]?\d{3}[- ]?\d{4}$',  :class=> 'form-control' , :required => 'required' , :placeholder => 'Your Phone Number' %>
                        </div>

                        <div class="form-group">
                            <%= f.label 'Pick-up Address' %>
                            <%= f.text_field 'from_add', :id=> 'from_add' , :name=> 'from_add' ,:class =>'form-control' , :placeholder => 'From Address' %>
                        </div>
                          
                        <div class="form-group">
                            <%= f.label 'Drop-off Address' %>
                            <%= f.text_field 'to_add', :id=> 'to_add' , :name=> 'to_add' , :class =>'form-control' , :placeholder => 'To Address' %>
                        </div>                        

                <div class ="row">
                                             
                    <div class="col-sm-6">
                            <div class="form-group">
                            <%= f.label 'Pick-up Date'  %>
                            <%= f.date_field :pickup_date , :value => Date.today , :class=>"form-control", :required=>"required" %>
                            </div>
                    </div>
                    <div class="col-sm-3">
                    <div class="form-group">
                            <%= f.label 'Time'  %>
                            <%= f.select :time , options_for_select(   [['12:00',1], ['12:30', 30],['1:00', 60],['1:30', 90],['2:00', 120],['2:30', 150],['3:00', 180],['3:30', 210],['4:00', 240],['4:30', 270],['5:00',300],['5:30',330],['6:00',360],['6:30',390],['7:00',420],['7:30',450],['8:00',480],['8:30',510],['9:00',540],['9:30',570],['10:00',600],['10:30',630],['11:00',660],['11:30',690]] ,630),{}, {:class =>'form-control'}  %>

                    </div>
                    </div>

                    <div class="col-sm-3">
                      <div class = "form-group">
                        <%= f.label 'hr'  %>
                        <%= select_tag 'hour', options_for_select([['AM',1],['PM',2]],1),{:class => 'form-control'} %>
                      </div>
                    </div>
                </div>     <!--row-->



                        <div class="form-group">
                            <%= f.label :Vehicle %>
                            <%= f.select 'vechile', options_for_select([['Sedan',1],['SUV',2],['Van',3],['Limosine',4],['Streched Limosine',5]],2),{}, {:class =>'form-control'}  %>
                        </div>

                        <div class="form-group">
                            <%= f.label :Passengers%>
                            <%= f.select 'passengers', options_for_select( [['1',1],['2',2],['3',3],['4',4],['5',5],['6',6],['7',7],['8',8],['9+',9]],1),{}, {:class =>'form-control'}  %>
                        </div>


                        <div class="form-group">
                           <%= f.submit 'Submit' , :id => 'calcRoute' , :class => 'btn btn-primary btn-lg' , :required => 'required' %> 

                        </div>
                    </div>
                  <%end%>
                  <section>

                  <div class="col-sm-5 text-center">

                    <div id="map_canvas"></div>
                    <label for="distance">Distance (km): </label>
                    <input type="text" name="distance" id="distance" readonly="true" />
                    </p>
                    </div>
                  </div>
                </section>


</div><!--/.row-->

</div><!--/.container-->
<!--</div> -->
</section>


</body>
    
</html>