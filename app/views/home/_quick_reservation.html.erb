<%= form_for @reservation, :url => reservations_path, :html => {:id => 'home-contact' ,  :method => 'post' } do |f| %>
  <div class="col-sm-12">
    <div class="carousel-content">
      <div class="form-group">
        <%= f.text_field :name,  :placeholder=>"Your Name", :class=>"form-control", :required=>"required" %>
      </div>
      <div class="form-group">
        <%= f.email_field  name="email" , :placeholder=>"Email Address" , :class=>"form-control", :required=>"required" %>
      </div>
      <div class="form-group">
        <%= f.telephone_field name="phone" , :pattern =>'^(?:\(\d{3}\)|\d{3})[- ]?\d{3}[- ]?\d{4}$',:placeholder=>"Phone Number" , :class=>"form-control", :required=>"required" %>
      </div>
      <div class ="row">

            <% 
              t = Time.now + (2*60*60)
              h = t.hour
              m = t.min
              c = h.modulo(12)*2
              c = c + ( m > 30 ? 2 : 1)   
              hr_value = c*30
              am_pm = (h>12 ? 2 : 1) 
              
            %>
          <div class="col-sm-6">
            <div class="form-group">
              <%= f.date_field :pickup_date , :value => (t.to_date if @reservation.new_record?) , :class=>"form-control", :required=>"required" %>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <%= f.select :time , options_for_select([['12:00',1], ['12:30', 30],['1:00', 60],['1:30', 90],['2:00', 120],['2:30', 150],['3:00', 180],['3:30', 210],['4:00', 240],['4:30', 270],['5:00',300],['5:30',330],['6:00',360],['6:30',390],['7:00',420],['7:30',450],['8:00',480],['8:30',510],['9:00',540],['9:30',570],['10:00',600],['10:30',630],['11:00',660],['11:30',690]] ,@reservation.new_record? ? hr_value : @reservation.time),{}, {:class =>'form-control'}%>

            </div>
          </div>

          <div class="col-sm-3">
            <div class = "form-group">
              <%= select_tag :hour, options_for_select([['AM',1],['PM',2]],@reservation.new_record? ? am_pm : @reservation.hour),{:class => 'form-control'} %>
            </div>
          </div>
        </div>     <!--row-->

      <div class="form-group">
        <%= f.text_field :from_add , :placeholder=>"Pick-up Address" , :class=>"form-control", :required=>"required" %>
      </div>
      <div class="form-group">
        <%= f.text_field :to_add , :placeholder=>"Drop-off Address" , :class=>"form-control", :required=>"required" %>
      </div>

      <div class="form-group">
        <%= f.submit 'Book', :class => 'btn-slide animation animated-item-3' , :required => 'required' %>
      </div>
    </div>
    <div class = "col-sm-4">
    </div>
  </div>
<%end %>
